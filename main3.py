from PoissonGenerator import PoissonGenerator
from FloorsModel import FloorsModel
import matplotlib.pyplot as plt
import numpy as np

# Ys = []
# segs = 3600
# elevators = 3
# floors = 6
#
# results = []
# for lamb in np.arange(0.1, 2.1, 0.1):
#     pg = PoissonGenerator(lamb, segs)
#     env = FloorsModel(elevators, floors, pg, segs/10)
#     i = 0
#     while i < 3600 or len(env.peopleSimulator.people) > 0 or len(env.schedule.agents[0].peopleInside) > 0 or len(env.schedule.agents[1].peopleInside) > 0:
#         env.step()
#         i += 1
#     r = sum(env.timePeople)/len(env.timePeople)
#     print(r)
#     results.append(r)
#
# print(results)

# resultsT1_1 = [17.151685393258425, 21.358620689655172, 26.334256694367497, 29.584468664850135, 31.72398190045249, 34.823985408116734, 35.08795562599049, 37.404329608938546, 39.144990665836964, 40.893871866295264, 41.58941745103027, 42.69694117647059, 44.54221663523989, 45.308442851453606, 47.67519133843569, 49.968615278496294, 51.69004048582996, 54.85938471100062, 54.91506968641115, 54.56540616246499]
# resultsT1_2 = [17.14246575342466, 21.961229946524064, 26.479224376731302, 30.433751743375176, 32.71010491441193, 34.807272727272725, 35.64501815248084, 36.98913424465475, 37.89657301636308, 39.61153635866594, 41.527227722772274, 43.76907073509015, 45.48196789660204, 45.099221401477344, 45.581755593803784, 49.10520815188991, 51.046757901596614, 51.721137842336205, 59.782340862423, 55.44043974394656]
# resultsT1_3 = [17.527377521613833, 22.451315789473686, 25.185673892554195, 30.43856076035302, 33.46662958843159, 33.47726207219878, 34.98533007334963, 37.02605416523826, 38.6192748091603, 39.768604324627916, 41.46711202466598, 42.337641357027465, 43.87130209458, 43.94626214554828, 49.46765799256506, 47.95394963780614, 49.93813068651778, 47.796920115495666, 52.64305295051219, 54.92235811460767]
# resultsT1_4 = [18.428571428571427, 21.239625167336012, 25.773549000951476, 30.405349794238685, 32.00283607487238, 34.249880782069624, 36.015359741309624, 37.359943482868246, 38.60303687635575, 40.928729894620076, 40.42585353140474, 43.49743470149254, 44.47889436468824, 46.02158273381295, 47.00898539872707, 48.345411040847715, 52.061482220006646, 52.92067901234568, 56.65518248175182, 54.56807835563526]
# resultsT1_5 = [17.12215909090909, 21.048022598870055, 26.63669391462307, 29.153629316420012, 32.91917502787068, 34.962700661000945, 35.43501218521527, 36.523219814241486, 38.6103855721393, 39.721555174385365, 40.972512089590225, 42.75918177591818, 44.86701097482246, 44.95173514160351, 45.923890848338594, 48.469805527123846, 50.98142764857881, 54.662870159453306, 54.39246054938632, 58.52594339622642]
# resultsT1_6 = [16.970666666666666, 21.625348189415043, 26.142201834862384, 29.268802228412255, 32.42733063115229, 36.029104138244655, 35.73066352571653, 37.77758379888268, 38.547256097560975, 38.29952764656849, 40.587321792260695, 42.60438556418456, 43.591211146838155, 43.490777866880514, 46.70462169213567, 46.34041423260754, 51.838138186503464, 51.2563358778626, 55.297840655249445, 55.77497194163861]
# resultsT1_7 = [17.103641456582633, 21.69684499314129, 27.6681338028169, 29.50278940027894, 32.7710911136108, 33.908093278463646, 36.45657276995305, 37.985871812543074, 38.48289800995025, 39.44341216216216, 41.63510747185261, 43.40154090188081, 45.15920808414106, 46.54912947768661, 46.75214632325495, 49.18804920913884, 48.33305771456921, 51.76123768472906, 55.72428529325081, 55.520780679584384]
# resultsT1_8 = [17.276470588235295, 21.502762430939228, 25.71958174904943, 29.48817802503477, 31.52107925801012, 34.87066541705717, 36.706138613861384, 38.30590717299578, 38.83529411764706, 40.78879072335726, 41.413784523513314, 43.47512149965286, 44.34636517328825, 45.478734126184236, 45.177222326630336, 48.39229181004818, 50.10178366879398, 52.95508890251379, 52.12809676479161, 53.84077892325315]
# resultsT1_9 = [17.388235294117646, 22.70204081632653, 26.2532981530343, 28.61661807580175, 32.14905450500556, 34.47876620473849, 36.10797743755036, 36.87397820163488, 37.62672811059908, 39.97425961804595, 41.887238862320665, 44.19235146824494, 45.125026578779504, 46.0133306804616, 45.84209541627689, 48.22336592897581, 50.14825197889182, 50.39373918515023, 55.68440899202321, 57.9244499792445]
# resultsT1_10 = [17.05775075987842, 21.294964028776977, 26.14245810055866, 29.655692729766805, 32.898186073727324, 34.75240715268225, 35.82729468599034, 37.98542372881356, 37.86152386974391, 38.980044345898, 42.92865989596235, 42.72776159533946, 44.15947628246405, 45.39653085921743, 46.695408734602466, 47.59630790665273, 51.32517140058766, 50.22387601657204, 56.095936139332366, 54.63893161795553]

# resultsT1 = [resultsT1_1,resultsT1_2,resultsT1_3,resultsT1_4,resultsT1_5,resultsT1_6,resultsT1_7,resultsT1_8,resultsT1_9,resultsT1_10]


# resultsT2_1 = [20.91594202898551, 23.62154696132597, 27.29926335174954, 30.341719077568133, 32.85455607476636, 37.44621695533272, 37.24034869240349, 40.572795625427204, 43.82678355501814, 46.44821917808219, 47.08271636456472, 49.22644589552239, 53.474378056559644, 56.19209945859234, 56.24426626887936, 61.208991077556625, 60.40456769983687, 65.26846679081316, 69.62423447069116, 69.3457264957265]
# resultsT2_2 = [21.1045197740113, 23.903820816864297, 28.29428044280443, 31.59448275862069, 33.9928335170893, 36.823905109489054, 38.38792756539235, 40.508226037195996, 42.920649233543735, 46.22285228239297, 46.7694087403599, 50.44731934731935, 52.055318240068345, 51.99732565315779, 57.971309139274176, 60.874824438202246, 61.692654424040064, 65.47640484321639, 68.62154573666322, 67.5500274122807]
# resultsT2_3 = [21.164804469273744, 24.144257703081234, 26.69921875, 29.882181818181817, 32.99829642248722, 36.52329749103943, 38.5793893129771, 39.933079056865466, 45.04945567651633, 43.869602032176125, 48.161540385096274, 48.77297297297297, 52.41668515642334, 52.38691551274333, 55.17520317520317, 58.00500777067864, 61.10075114304376, 66.66340478409444, 68.07152456323728, 74.87819697611982]
# resultsT2_4 = [20.412121212121214, 23.52761627906977, 27.367021276595743, 29.995744680851065, 35.20971184631804, 35.34280476626948, 38.820101681658194, 41.93678756476684, 44.104237550262916, 47.469692776086355, 46.91056498606537, 51.340725806451616, 51.31806561567959, 53.77768955934895, 55.485709017149176, 59.49720181881777, 61.51915985249319, 70.55047270509301, 62.866320474777446, 75.86151079136691]
# resultsT2_5 = [20.551020408163264, 24.029490616621985, 27.99153339604892, 30.713462922966162, 34.02595251242408, 36.0356811862836, 40.02427564604542, 40.283208020050125, 43.14970796188134, 45.70815928710665, 47.63061018658598, 51.959020146520146, 53.42355237475602, 52.36337209302326, 57.069370526702144, 60.481054081984155, 64.81992523972046, 66.53095856902614, 69.29156839622641, 69.75968672712284]
# resultsT2_6 = [22.50531914893617, 25.229113924050633, 27.189213893967093, 29.35037037037037, 33.836202109938924, 36.66591827570723, 36.978574211141414, 40.78867652362063, 42.824464831804285, 44.48824993088195, 46.666249060385866, 49.24142692750288, 51.08437905668542, 54.41988512576748, 56.30668658946582, 55.88014718766427, 62.35817772054089, 66.52286678944138, 69.85056294779939, 69.28222804356818]
# resultsT2_7 = [21.26628895184136, 23.023952095808383, 28.779808529155787, 31.41532258064516, 33.76601671309192, 37.01640070921986, 38.074931345625735, 41.21664325842696, 45.11976955730746, 45.261778645107334, 46.203976245804284, 50.4983996342021, 50.87256176853056, 56.08682574694205, 57.37980220616204, 61.53353178077394, 67.9015, 67.61783634692001, 70.10639543392361, 71.45022123893806]
# resultsT2_8 = [21.89156626506024, 24.44804318488529, 29.27504393673111, 31.42183098591549, 33.74771167048055, 36.333185250999556, 39.632242806464326, 40.93174061433447, 43.66544901065449, 44.49275758403935, 47.2102839600921, 49.79129620963968, 52.99229616948427, 54.88331388564761, 57.863046701260195, 61.39691780821918, 59.21449607329843, 63.64112649465072, 71.46267789718269, 69.00817174515235]
# resultsT2_9 = [21.0906432748538, 23.2339514978602, 27.343245539507222, 30.461988304093566, 34.668681318681315, 36.62655601659751, 39.07862013638187, 42.4289636238847, 45.04406364749082, 43.725133090501544, 45.98807672369103, 50.63990929705216, 53.333333333333336, 53.958627450980394, 58.357497700092, 61.530827331811, 63.04806451612903, 68.75061690314621, 66.04114065052725, 75.46093427035966]
# resultsT2_10 = [21.198813056379823, 24.28175182481752, 26.663594470046082, 29.54201680672269, 33.269687162891046, 37.17233560090703, 39.12988047808765, 42.383894481082955, 43.14568126520681, 44.478845615018216, 46.825584317667754, 47.855190601774154, 51.13728448275862, 53.83041289023162, 56.59539535761464, 59.23345620502019, 64.78812741312741, 64.56338466324468, 68.13001884331062, 70.8531790295594]
#
# resultsT2 = [resultsT2_1,resultsT2_2,resultsT2_3,resultsT2_4,resultsT2_5, resultsT2_6, resultsT2_7, resultsT2_8, resultsT2_9, resultsT2_10]

resultsT3_1 = [19.477040816326532, 21.48345323741007, 23.19256434699714, 24.907420494699647, 26.778534923339013, 27.47579143389199, 27.565269943593876, 29.0823087431694, 28.872755417956657, 28.894707979160955, 29.22175, 29.448837209302326, 29.514652406417113, 30.859272164150212, 30.4801355676897, 31.713579374889633, 29.810040026684458, 31.97582011396889, 32.02430402121078, 32.10182119205298]
resultsT3_2 = [20.42931937172775, 22.17820512820513, 24.055758683729433, 25.199305555555554, 26.278362573099415, 27.54076462459696, 27.731785428342675, 28.621742112482853, 28.468501529051988, 29.790249433106577, 28.60918367346939, 29.700331125827816, 30.552918537524054, 30.85577486808677, 31.169006381039196, 30.876990376202976, 31.17630673439292, 31.4257842984236, 33.316923973201284, 33.66469536514922]
resultsT3_3 = [19.65564738292011, 22.223719676549866, 23.51782363977486, 24.988346686088857, 26.497432972047918, 27.010782934833568, 27.691358024691358, 28.82319660537482, 28.17522564581388, 29.383630289532295, 29.838492261607588, 28.970824718584883, 30.037630960017104, 30.258090452261307, 30.57588626292467, 30.6428324099723, 35.504086302713304, 30.69887501926337, 33.06954366525733, 33.97323943661972]
resultsT3_4 = [20.089136490250695, 22.045333333333332, 23.05984555984556, 25.666666666666668, 26.213921901528014, 27.613768439874832, 27.904761904761905, 28.47295900792284, 29.891064871481028, 29.331818181818182, 29.45602605863192, 29.889351851851853, 29.824268689057423, 30.01028074337683, 31.21122599704579, 31.28960524047578, 30.90744920993228, 32.274160491880814, 32.37419169420894, 31.815576677542914]
resultsT3_5 = [20.350923482849606, 21.623021582733813, 23.483285577841453, 25.04158004158004, 26.716056338028167, 27.47713897691263, 27.816473410635744, 28.533997252747252, 28.74455205811138, 29.032093155353593, 29.339376915219614, 30.14262295081967, 30.244149272612272, 34.73415734745929, 31.541336353340885, 32.70530418573123, 31.41136898755466, 34.338848039215684, 32.548927416985016, 32.86100707449022]
resultsT3_6 = [19.851963746223564, 21.004392386530014, 23.72779369627507, 25.38398357289528, 25.989179954441912, 27.271954674220964, 28.135404221425727, 28.838520055325034, 28.564302884615383, 29.11026936026936, 29.209254498714653, 30.161327762302694, 29.927871586408173, 30.55458780636014, 31.329994435169727, 30.760020554984585, 29.78437807679685, 31.578633654287025, 35.989674229203025, 31.69438202247191]
resultsT3_7 = [20.141666666666666, 21.81422924901186, 22.880907372400756, 24.6697247706422, 26.486990950226243, 27.343484102104792, 28.198657187993682, 28.21048926434354, 29.136392606755894, 29.3739837398374, 29.0418925579103, 29.086610486891384, 30.107734806629836, 30.28745505393528, 30.345683586513523, 31.60538273331003, 31.409232280242264, 31.49735860783095, 32.48765615704937, 32.45395845030882]
resultsT3_8 = [19.38957055214724, 21.928571428571427, 23.40431266846361, 25.517029972752045, 26.233839235525576, 27.318801089918257, 28.57559269335406, 28.083067092651756, 28.87464566929134, 29.243600330305533, 29.762284859067098, 29.605920444033302, 30.072476656291684, 29.72828058859101, 31.030376444278794, 30.11189927292073, 30.49482368165642, 31.658915922389898, 31.6093567251462, 33.79494655004859]
resultsT3_9 = [19.967032967032967, 21.339488636363637, 23.392789373814043, 24.691068814055637, 26.239710789766406, 27.25, 28.15567911040508, 28.47756080849606, 28.619722650231125, 29.142278773857722, 30.866254635352288, 29.287697012467653, 30.704545454545453, 30.0, 30.385287014675832, 30.95597807468311, 32.26427863981512, 31.428010059729644, 31.14941022280472, 31.93186753528773]
resultsT3_10 = [19.542134831460675, 21.23023578363384, 23.915584415584416, 25.32108183079057, 25.933518005540165, 28.33105957253297, 28.163980660757453, 28.142612859097127, 28.188755020080322, 29.016647855530476, 29.38954809391568, 30.32945285215367, 30.352660152008685, 30.480529748962244, 30.726159554730984, 30.563145909966718, 30.802424639580604, 31.936317489616982, 31.243682834737147, 32.19377355856485]

resultsT3 = [resultsT3_1,resultsT3_2,resultsT3_3,resultsT3_4,resultsT3_5, resultsT3_6, resultsT3_7, resultsT3_8, resultsT3_9, resultsT3_10]


lambs = [0]*20
for r in resultsT3:
    for i in range(20):
        lambs[i] += r[i]

for i in range(20):
    lambs[i] = lambs[i]/10

print(lambs)

# fig = plt.figure()
# plt.plot(np.arange(0.1, 2.1, 0.1), results)
# plt.ylim((0, max(results)+10))
# plt.xlabel("(a) Taxa de pessoas (λ)")
# plt.ylabel("Tempo médio de serviço (s)")
# plt.show()



