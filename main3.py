from PoissonGenerator import PoissonGenerator
from FloorsModel import FloorsModel
import matplotlib.pyplot as plt
import numpy as np

# segs = 3600
# elevators = 3
# floors = 6
#
# results = []
# for lamb in np.arange(0.1, 2.1, 0.1):
#     pg = PoissonGenerator(lamb, segs)
#     env = FloorsModel(elevators, floors, pg, segs/10)
#     i = 0
#     while i < 3600 or len(env.peopleSimulator.people) > 0 or len(env.schedule.agents[0].peopleInside) > 0 or len(env.schedule.agents[1].peopleInside) > 0:
#         env.step()
#         i += 1
#     r = sum(env.timePeople)/len(env.timePeople)
#     print(r)
#     results.append(r)
#
# print(results)


resultsT2 = [21.210103858962643, 23.944354490438528, 27.690222358660588, 30.47191203059351, 33.836964934816876, 36.59863013618455, 38.594629187617755, 41.09840148056553, 43.885026228968634, 45.216529042139264, 46.944901097031334, 49.977270683895746, 52.210785425427915, 53.989646737643476, 56.84482866818026, 59.96419595007279, 62.68474240822301, 66.55855388896461, 68.40659894143391, 71.34498827301944]
resultsT1 = [17.31690239532581, 21.688077465045808, 26.233507151954928, 29.654784073853158, 32.45894690875451, 34.6360137841845, 35.79973228114175, 37.42314460308113, 38.422796114535664, 39.841033211462644, 41.44342353653731, 43.14614307753016, 44.56226792314436, 45.225574728432605, 46.68289756647705, 48.3583418723587, 50.746424189187586, 51.85512695074592, 55.331867437513196, 55.57221389145572]
resultsT3 = [19.88944363076058, 21.6870650442343, 23.463066533472634, 25.138620840572653, 26.336754764354282, 27.463354584888698, 27.99389625859616, 28.528645380161073, 28.7535918353389, 29.231927909877207, 29.473406355388853, 29.662297641423528, 30.133890852151183, 30.77684287731831, 30.879509159740913, 31.122473813313707, 31.356438857936883, 31.88127236966069, 32.581367093980376, 32.6485267862537]


# roT1_1 = [22.757105943152453, 28.846582984658298, 31.20472440944882, 35.0754052149401, 36.75055309734513, 42.23069810448451, 41.513964313421255, 42.85358146067416, 45.85278878390734, 54.11066017316017, 48.675187969924814, 47.541617819460726, 51.143383149231106, 60.837095191364085, 51.05802423797282, 54.57653866386113, 62.25450041288192, 67.64545595293389, 67.53783231083844, 71.11676605186521]
# roT1_2 = [22.03804347826087, 28.887931034482758, 31.371014492753623, 35.04808362369338, 37.50188679245283, 40.478400735294116, 41.940514469453376, 44.55352209944751, 46.75, 43.67111111111111, 49.582124352331604, 50.27828886844526, 53.30504786771105, 56.440610747570894, 61.511688797456515, 58.02785419532324, 61.04367666232073, 61.835064331111454, 68.95856515373353, 64.35636313389526]
# roT1_3 = [20.643712574850298, 29.384615384615383, 31.472627737226276, 35.731241473397, 36.76157804459691, 37.9958041958042, 39.7506817296455, 40.91933779499824, 44.06149651620721, 45.2475, 47.55992751747347, 49.63162726646775, 51.469392077949585, 53.846848615747106, 57.802224281742355, 60.48466898954704, 60.14467741935484, 65.40895013936203, 68.04437213429966, 73.46637652674436]
# roT1_4 = [21.34393063583815, 27.962131837307155, 33.213893967093234, 35.72535690006798, 38.61590145576708, 38.95260223048327, 41.915979583824104, 43.59952445652174, 45.92056217537427, 45.31587790534864, 50.38571787779733, 51.629339305711085, 54.12128816394814, 54.06206896551724, 56.42527224934285, 58.728155339805824, 61.997368421052634, 66.54006484483557, 72.51691513761467, 72.88312768612228]
# roT1_5 = [23.07774798927614, 27.20989505247376, 33.698606271777, 35.251178451178454, 38.009529147982065, 38.05338242061666, 43.63463098134631, 44.59743411927878, 43.19913819636811, 46.1486856516977, 52.14745038934941, 52.4778348110126, 53.12204391891892, 56.58522615050365, 55.56150234741784, 60.9226037929267, 59.39703703703704, 67.41134099616858, 68.67995849392233, 69.2763966480447]
# roT1_6 = [21.924198250728864, 28.684782608695652, 33.53026196928636, 34.20500676589987, 37.144657534246576, 38.59837910850968, 38.488871224165344, 44.22642163661581, 42.01787394167451, 46.93844400113993, 49.4837428642343, 52.622667273554846, 54.278083933870285, 56.452247732973184, 56.39414163885799, 59.83063533507398, 59.135194585448396, 60.953427200990255, 69.7405906195715, 70.99115655658422]
# roT1_7 = [20.95977011494253, 27.75251798561151, 32.19164396003633, 34.5625, 36.932491767288695, 41.0019550342131, 40.161353032659406, 42.51190887124611, 46.30368098159509, 48.03102291783119, 50.83445357231765, 49.2909436653197, 54.47683807904802, 55.185199686765856, 57.71906291328169, 57.40309672929715, 58.62629757785467, 69.59007156997107, 72.03367496339678, 69.36116478056859]
# roT1_8 = [22.719101123595507, 28.12857142857143, 32.46015180265655, 34.428367783321455, 36.39823008849557, 37.801980198019805, 41.74586939417781, 40.873021335168616, 46.75894769042521, 44.275208913649024, 49.38653366583541, 50.02299117510451, 55.818675579695004, 57.60485736314572, 58.0948051948052, 59.48991900740996, 63.86726783736751, 66.99737126952219, 62.33730158730159, 67.55078976034858]
# roT1_9 = [22.48753462603878, 27.89855072463768, 32.594339622641506, 35.33607118412046, 36.73910645339217, 39.217577197149645, 42.176516942474386, 44.93496765406878, 44.834597875569045, 46.1977304964539, 48.307326831707925, 50.82368835847782, 54.168765743073045, 54.20391451967246, 61.13178733031674, 62.62013212795549, 59.47352423612222, 66.4523076923077, 66.40671971706455, 74.1523378582202]
# roT1_10 = [23.210526315789473, 27.813390313390315, 32.67172675521822, 37.880222841225624, 36.298364354201915, 40.326887661141804, 43.46060144651694, 44.343293718166386, 44.346926166203275, 48.04992987377279, 49.47962541128828, 50.32396960626295, 55.65196078431372, 56.17057057057057, 59.68004438690586, 66.91158004883152, 62.49410053337643, 66.03354859032919, 67.36458180752894, 75.276801770646]

# roT2_1 = [24.440677966101696, 31.294117647058822, 35.97170731707317, 40.273809523809526, 43.771595124536304, 47.1906090190609, 48.0368, 49.684099684099685, 56.95565006075334, 56.64125177809388, 57.587493696419564, 63.35631383472609, 72.66604205704768, 70.74728957224522, 76.20603109196479, 84.3700613079019, 79.80635551142007, 84.2641219024165, 97.4438408456908, 94.45840830449826]
# roT2_2 = [24.75211267605634, 31.931372549019606, 37.791811846689896, 39.44468085106383, 44.815283122594835, 45.72543488481429, 50.80084258904634, 52.07944084555063, 55.554537121906506, 56.3401916572717, 60.30737913486005, 61.35915329146313, 68.95672868887927, 74.22271091563374, 75.74623023170284, 84.568177840014, 85.72843860211606, 86.00890485861584, 96.74930239389045, 92.36166261962576]
# roT2_3 = [25.07068062827225, 32.072916666666664, 36.99261311172668, 41.526168876482906, 44.11027027027027, 45.70652173913044, 49.925214548426645, 52.9001336005344, 54.42193958664547, 58.08020663404024, 61.36986646510456, 59.64610234337638, 69.71564482029598, 68.80294695481336, 75.06373181064653, 77.13575458392101, 84.56503998694303, 90.49563753252717, 89.44492816717458, 94.50098259404828]
# roT2_4 = [24.771505376344088, 30.917771883289124, 37.23222748815166, 40.27751196172249, 42.87887323943662, 47.90004627487274, 48.70039682539682, 53.08854700854701, 50.81003811944092, 55.310498468393206, 62.00275689223058, 63.64883932635412, 66.39276373147341, 72.01652892561984, 72.41669751943725, 80.02088596934479, 84.67260074445703, 83.84370500719885, 92.68797878609311, 96.78862234407129]
# roT2_5 = [24.922680412371133, 31.381844380403457, 36.77105014191107, 40.17394270122783, 42.95250944414463, 46.38745905474965, 46.73067729083665, 50.88450604122246, 55.14917471192775, 58.4125068568294, 62.339241138292564, 62.5436580882353, 67.69177638679042, 70.15488418932527, 78.3660680882903, 84.52970123022847, 81.78765352294764, 90.66746987951807, 90.54345290172061, 99.47963297650493]
# roT2_6 = [23.294294294294293, 29.264957264957264, 34.99607072691552, 41.36641221374046, 45.13079932923421, 48.336153161175424, 50.21103117505995, 52.56218057921635, 54.168693483005924, 53.28853198083967, 59.309951886553556, 66.1804843968328, 70.55995717344754, 73.13402858246427, 75.85260813068498, 77.64694623281713, 87.05639703512729, 87.93270566445439, 89.19688591385332, 98.61508704061896]
# roT2_7 = [23.573065902578797, 31.36731843575419, 36.291471415182755, 40.08953068592058, 44.563199105145415, 46.48642210576465, 49.47334100498657, 52.09405940594059, 57.46874074074074, 56.580537843082894, 57.83964143426295, 65.39088397790056, 66.76086012163336, 71.71300358994814, 73.26741363211951, 81.93916609706083, 84.55264015645372, 83.35471757158504, 87.12151600058988, 100.50432276657061]
# roT2_8 = [24.79050279329609, 32.3840877914952, 35.670697674418605, 39.89791516894321, 42.32185206098249, 47.459376372419854, 50.414585810543, 51.755617006567576, 55.42952612393682, 57.944725028058365, 61.1032816077334, 65.5460023174971, 70.79019014693172, 70.98537953134388, 70.55205811138015, 76.96825669183254, 81.56016597510373, 93.84100675260896, 91.96750477870901, 97.32574381896913]
# roT2_9 = [24.25141242937853, 31.295081967213115, 36.031894934333955, 41.01864640883978, 41.80449069003286, 46.69708198239926, 50.45494593512215, 51.82902298850575, 54.73950885918558, 58.915193370165746, 61.103879849812266, 63.73667130273528, 73.10764992583174, 70.76679920477137, 76.06962257237083, 75.59622380045037, 79.66394380003267, 87.3787385712072, 90.95399587142435, 94.03273322422258]
# roT2_10 = [23.827868852459016, 30.828410689170184, 37.79430670339761, 39.300141242937855, 42.86641221374046, 44.742209631728045, 50.22790328973444, 50.5, 54.45198623709728, 59.621733149931224, 59.47459823742872, 67.12750749365921, 65.99275671069451, 67.59246435845213, 72.25819061801936, 75.59223300970874, 79.48784863806883, 87.37231726283048, 91.30671641791045, 93.36071279409717]

roT3_1 = [17.372151898734177, 22.93774834437086, 26.41011743450768, 31.36111111111111, 35.773363178511474, 43.34429309534993, 54.242890995260666, 69.22367966862271, 101.62187004754358, 110.80365549709222, 111.32910106653124, 273.42820809248553, 427.7540775259479, 324.140313111546, 332.10231333458717, 287.8190150970525, 911.7663446054751, 788.1906463642014, 885.6114603128198, 699.4863802302724]
roT3_2 = [17.697947214076247, 21.634042553191488, 26.65798922800718, 29.49182658137882, 37.43361823361823, 46.38674812030075, 54.132701421800945, 58.636234458259324, 84.34716981132075, 109.70356633380885, 133.160600661746, 295.5320843091335, 232.18808510638297, 502.786782061369, 543.2308982482296, 523.6978752807048, 542.3934964690426, 455.4427852876454, 839.4762045086194, 1759.4311663479923]
roT3_3 = [16.84958217270195, 22.60544217687075, 25.9820415879017, 32.51729004940014, 36.71776018099548, 46.7562802996915, 53.14704700683005, 68.33533145275035, 91.19566563467492, 106.3179401063532, 111.72177215189873, 157.88967082860387, 216.65745501285346, 272.87296868806976, 658.6814256843652, 634.080340100642, 618.3202572347267, 690.400465477114, 1816.2333137312555, 1163.3147371364653]
roT3_4 = [17.92248062015504, 21.77278911564626, 25.46973803071364, 33.28274874731568, 39.46527012127894, 54.229559748427675, 53.39771833202203, 64.34092477570738, 75.26060421116875, 117.2761553728381, 146.79022704837118, 185.8078275134755, 213.4946417314562, 481.7110146071852, 373.3298950082888, 549.6562716562717, 1264.3883698453608, 596.952462327171, 906.3505317620006, 1335.3197056418642]
roT3_5 = [17.677419354838708, 21.111581920903955, 26.90967741935484, 32.92590027700831, 38.144295302013425, 46.42135096835144, 52.48204309656823, 67.27703651685393, 82.17716781035558, 118.96295256806063, 155.14024542950162, 141.95645123928654, 316.72488803582854, 365.6976331360947, 324.74233128834356, 410.1287605294826, 1015.767749306349, 787.3290598290598, 1098.594451003542, 1433.45670257739]
roT3_6 = [17.894736842105264, 20.9756446991404, 27.075937785910337, 32.48656099241902, 35.56316082359488, 48.47152619589977, 47.5348, 61.05463347164592, 95.70070747462319, 116.11614654002713, 165.46724007083228, 163.07311375846766, 218.00723208415516, 387.7829457364341, 451.94103467457813, 647.0234905167914, 1123.1836901454485, 851.4677665750077, 676.2073725950947, 1382.3301304049417]
roT3_7 = [17.664, 21.884078212290504, 26.722273998136068, 30.41291727140784, 38.97994428969359, 48.82397844634037, 55.96588235294118, 61.53971631205674, 79.98113790970933, 93.76637615968512, 109.5822074942646, 187.70513413506012, 239.39799258127863, 304.6465256797583, 500.51304188096987, 574.9247127422398, 613.6801482436352, 619.176875957121, 609.7032085561498, 1016.6260128527522]
roT3_8 = [19.03970223325062, 22.059055118110237, 28.393530997304584, 31.8719723183391, 36.51559020044544, 42.18701923076923, 50.108150470219435, 76.33848266392036, 73.05389408099688, 108.63968957871397, 137.28990640020237, 156.44842840512223, 231.82653708007606, 280.6472555577415, 255.2697196261682, 560.8608741076092, 566.4191370223979, 618.8270062469967, 1079.5901854826932, 755.9951797273103]
roT3_9 = [17.41160220994475, 21.915107913669065, 25.900668576886343, 33.23790322580645, 38.20175438596491, 43.07757404795487, 57.983399209486166, 69.78551912568307, 84.97336715282181, 116.94129104062326, 157.27117366172405, 211.06778476589798, 190.83799359658485, 262.38100937562336, 591.3738697176601, 1201.1345659989727, 949.2428428761651, 734.6492073360273, 517.8682537335502, 1677.0826274128594]
roT3_10 = [17.527272727272727, 21.795833333333334, 25.35037878787879, 30.915433403805498, 34.500291545189505, 46.53025404157044, 64.3857027463651, 63.971914008321775, 95.16217044757818, 130.6894065446478, 145.03366834170853, 173.47175925925927, 258.8601549053356, 417.4150030248034, 376.15320178704394, 378.70019688562735, 765.2603833865815, 929.4088708417929, 527.5919811320755, 820.6315478825439]


roT3 = [roT3_1,roT3_2,roT3_3,roT3_4,roT3_5,roT3_6,roT3_7,roT3_8,roT3_9,roT3_10]

lambs = [0]*20
for r in roT3:
    for i in range(20):
        lambs[i] += r[i]

for i in range(20):
    lambs[i] = lambs[i]/10

print(lambs)

fig = plt.figure()
plt.plot(np.arange(0.1, 2.1, 0.1), lambs, label="Ordinary", linestyle='dotted')
plt.plot(np.arange(0.1, 2.1, 0.1), resultsT3, label="RL")
plt.ylim((0, 80))
plt.legend(loc='best')
plt.xlabel("(a) Taxa de pessoas (λ)")
plt.ylabel("Tempo médio de serviço (s)")
plt.show()



